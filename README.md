=====

# オセロゲーム (Python/Tkinter)

Pythonと標準ライブラリのTkinterを使用して作成された、GUIベースのオセロ（リバーシ）ゲームです。

## 主な機能

- **多彩なゲームモード**
  - ヒト vs ひと
  - ヒト vs CPU（3段階の強さから選択可能）
  - CPU vs CPU（観戦モード）
- **リプレイ機能**
  - 保存されたログファイルから棋譜を再現できます。
  - 再生速度の変更（x1, x2, x4）。
  - 一時停止、再開。
  - 一手ずつ進める、戻す操作。
- **ログ機能**
  - ゲームの棋譜を一手ずつ記録します。
  - ゲーム終了時にログファイル（`.txt`）を自動で保存します。
  - 手動でのログ保存も可能です。
- **統計情報**
  - ゲーム終了時に、各プレイヤーの「平均思考時間」と「1手での最大反転数」をログに記録します。

## 動作環境

- Python 3.x
- Pillow (PIL Fork)

## セットアップと実行方法

1.  **必要なファイルの準備**
    このリポジトリをクローン、またはファイルをダウンロードします。
    ゲームを実行するには、以下の画像ファイルを `othello.py` と同じディレクトリにインストールしておくと、より楽しめます。
    ※ 設定ファイル名  
    - `black.png` (黒い駒の画像)
    - `white.png` (白い駒の画像)
    画像を用意しなくても、デフォルトの駒画像でプレイできます。  

3.  **必要なライブラリのインストール**
    Pillowライブラリをインストールします。
    ```bash
    pip install Pillow
    ```

4.  **ゲームの実行**
    以下のコマンドでゲームを起動します。
    ```bash
    python othello.py
    ```

## 遊び方

1.  ゲームを起動すると、モード選択画面が表示されます。
2.  プレイしたいモードのボタンをクリックしてゲームを開始します。

### ゲームモード

- **ヒト vs ひと**: 2人のプレイヤーで対戦します。盤面をクリックして駒を置きます。
- **ひと vs CPU**: 先手・後手と、対戦するCPUのレベルを選択してゲームを開始します。
- **CPU vs CPU**: CPU同士の対戦を観戦します。両方のCPUのレベルを選択するとゲームが自動で進行します。
- **リプレイ**: 「リプレイ」ボタンを押し、表示されるダイアログでログファイル（`.txt`）を選択すると、棋譜の再現が始まります。

### リプレイ操作

- **再生速度**: `x1`, `x2`, `x4` ボタンで再生速度を変更できます。
- **一時停止/再開**: ゲームの進行を一時停止、または再開します。
- **`<<` (一手戻る)**: 盤面を一手前の状態に戻します。
- **`>>` (一手進む)**: 盤面を一手後の状態に進めます。
- **モード選択に戻る**: リプレイを終了し、最初のモード選択画面に戻ります。

## コードの構成

このプログラムは、主に以下のクラスで構成されています。

- `Othello`:
  ゲーム全体の進行管理、モードに応じたプレイヤーの割り当て、ゲーム状態の更新を担当するメインクラス。

- `TkView`:
  Tkinterを利用したGUIの描画、ユーザーからの入力（クリックなど）、ウィンドウの更新、リプレイ操作など、すべてのUI関連の処理を担当するクラス。

- `Board`:
  オセロの盤面状態（駒の配置）、ゲームのルール（駒を置けるかの判定、駒を裏返す処理）、ゲームの終了判定、統計情報（思考時間、反転数）の記録など、ゲームのコアロジックを管理するクラス。

- `RandomPlayer`:
  CPUプレイヤーの思考ロジックを実装したクラス。打てる手を探索し、設定された戦略（ランダム、角を優先するなど）に基づいて次の一手を決定します。

- `HumanPlayer`:
  人間プレイヤーを表すクラス（現在は主に型付けとして機能）。

## ログファイルについて

- ゲームが終了すると、棋譜と統計情報を含んだログファイルが `othello_log_YYYYMMDD_HHMMSS.txt` という形式で自動的に保存されます。
- ゲーム画面右側の「ログを保存」ボタンから、任意の名前で手動保存することも可能です。
- このログファイルはリプレイ機能で使用できます。

## ライセンス

このプロジェクトは MIT License のもとで公開されています。

---
*このREADMEはGemini Code Assistによって生成されました。*

=====
